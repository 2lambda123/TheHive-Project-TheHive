<div class="modal-header bg-primary">
    <h3 class="modal-title">Report for Case #{{caze.caseId}}</h3>
</div>
<div class="modal-body case-report-dialog">
    <div class="case-report-title">
        <h4>{{caze.title}}</h4>
    </div>
    <div class="case-report-body">
        <div>
            <div class="case-report-content">
                <severity active="activeSev" style="float:left; font-size:16px" value="caze.severity"></severity>
                <tlp format="activeTlp" style="float:left;" value="caze.tlp"></tlp>

                <table class="table table-striped table-hover case-list">
                    <thead>
                    <tr>
                        <th style="width: 10px;" class="p-0"></th>
                        <th style="width: 15px"></th>
                        <th style="width: 15px"></th>
                        <th style="width: 15px"></th>
                        <th style="width: 100px">Type</th>
                        <th>Value/Filename</th>
                        <th style="width: 120px">Date Added</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="artifact in artifacts.values">
                        <td class="p-0 bg-tlp-{{artifact.tlp}} clickable" ng-click="filterByTlp(artifact.tlp)"></td>
                        <td>
                            <span ng-click="addFilterValue('ioc', artifact.ioc)" ng-if="artifact.ioc" class="clickable fa fa-star" uib-tooltip="is an IOC" tooltip-popup-delay="500" tooltip-placement="bottom"></span>
                        </td>
                        <td>
                            <span ng-click="addFilterValue('sighted', artifact.sighted)" ng-if="artifact.sighted" class="clickable fa fa-toggle-on" uib-tooltip="has been sighted" tooltip-popup-delay="500" tooltip-placement="bottom"></span>
                        </td>
                        <td>
                            <span uib-tooltip="{{artifact.stats.seen}} related artifact(s)" tooltip-popup-delay="500" tooltip-placement="bottom" ng-if="artifact.stats.seen > 0" class="glyphicon glyphicon-eye-open"></span>
                        </td>
                        <td>
                            <a href ng-click="addFilterValue('dataType', artifact.dataType)"><span ng-bind="artifact.dataType"></span></a>
                        </td>
                        <td class="wrap">
                            <div class="wrap clickable" ng-click="openArtifact(artifact)">
                                {{(artifact.data | fang) || (artifact.attachment.name | fang)}}
                            </div>
                            <div class="case-tags flexwrap mt-xxs">
                                <span class="mr-xxxs text-muted"><i class="fa fa-tags"></i></span>
                                <strong class="text-muted mr-xxxs" ng-if="!artifact.tags || artifact.tags.length === 0">None</strong>
                                <span class="label label-primary mb-xxxs mr-xxxs pointer"
                                      ng-repeat="tag in artifact.tags track by $index"
                                      ng-click="addFilterValue('tags', tag)">
                            {{tag}}
                        </span>
                            </div>

                            <mini-report-list observable="artifact" reports="artifact.reports" on-item-clicked="showReport(observable, analyzerId)"></mini-report-list>
                        </td>
                        <td>
                            <a href ng-click="addFilterValue('startDate', artifact.startDate)"><span uib-tooltip="{{artifact.startDate | showDate}}" tooltip-popup-delay="500" tooltip-placement="bottom">{{artifact.startDate | shortDate}}</span></a>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="modal-footer text-left">
            <button class="btn btn-default" ng-click="cancel()" type="button">PDF</button>
            <button class="btn btn-default" ng-click="cancel()" type="button">Cancel</button>
        </div>
    </div>
</div>
